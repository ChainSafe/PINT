<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A utility trait for something to implement `ElectionDataProvider` in a sensible way."><meta name="keywords" content="rust, rustlang, rust-lang, SortedListProvider"><title>SortedListProvider in frame_election_provider_support - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../frame_election_provider_support/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait SortedListProvider</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.Error">Error</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.clear">clear</a><a href="#tymethod.contains">contains</a><a href="#tymethod.count">count</a><a href="#tymethod.iter">iter</a><a href="#tymethod.on_insert">on_insert</a><a href="#tymethod.on_remove">on_remove</a><a href="#tymethod.on_update">on_update</a><a href="#tymethod.regenerate">regenerate</a><a href="#tymethod.sanity_check">sanity_check</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.weight_update_worst_case">weight_update_worst_case</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">frame_election_provider_support</a></h2><div id="sidebar-vars" data-name="SortedListProvider" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">frame_election_provider_support</a>::<wbr><a class="trait" href="#">SortedListProvider</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#311-355" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait SortedListProvider&lt;AccountId&gt; {
    type <a href="#associatedtype.Error" class="type">Error</a>;
    fn <a href="#tymethod.iter" class="fnname">iter</a>() -&gt; <a class="struct" href="https://doc.rust-lang.org/1.57.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = AccountId&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.count" class="fnname">count</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.contains" class="fnname">contains</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.on_insert" class="fnname">on_insert</a>(id: AccountId, weight: <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.SortedListProvider.html#associatedtype.Error" title="type frame_election_provider_support::SortedListProvider::Error">Error</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.on_update" class="fnname">on_update</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId, weight: <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>);
<div class="item-spacer"></div>    fn <a href="#tymethod.on_remove" class="fnname">on_remove</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId);
<div class="item-spacer"></div>    fn <a href="#tymethod.regenerate" class="fnname">regenerate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all: impl <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = AccountId&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weight_of: <a class="struct" href="https://doc.rust-lang.org/1.57.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId) -&gt; <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.clear" class="fnname">clear</a>(maybe_count: <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.sanity_check" class="fnname">sanity_check</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.str.html">str</a>&gt;;

    fn <a href="#method.weight_update_worst_case" class="fnname">weight_update_worst_case</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_who: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_is_increase: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a> { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A utility trait for something to implement <code>ElectionDataProvider</code> in a sensible way.</p>
<p>This is generic over <code>AccountId</code> and it can represent a validator, a nominator, or any other
entity.</p>
<p>To simplify the trait, the <code>VoteWeight</code> is hardcoded as the weight of each entity. The weights
are ascending, the higher, the better. In the long term, if this trait ends up having use cases
outside of the election context, it is easy enough to make it generic over the <code>VoteWeight</code>.</p>
<p>Something that implements this trait will do a best-effort sort over ids, and thus can be
used on the implementing side of <a href="trait.ElectionDataProvider.html" title="ElectionDataProvider"><code>ElectionDataProvider</code></a>.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#313" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Error" class="type">Error</a></h4></div></summary><div class="docblock"><p>The list’s error type.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.iter" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#316" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.iter" class="fnname">iter</a>() -&gt; <a class="struct" href="https://doc.rust-lang.org/1.57.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = AccountId&gt;&gt;</h4></div></summary><div class="docblock"><p>An iterator over the list, which can have <code>take</code> called on it.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.count" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#319" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.count" class="fnname">count</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a></h4></div></summary><div class="docblock"><p>The current count of ids in the list.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.contains" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#322" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.contains" class="fnname">contains</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Return true if the list already contains <code>id</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.on_insert" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#325" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.on_insert" class="fnname">on_insert</a>(id: AccountId, weight: <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.SortedListProvider.html#associatedtype.Error" title="type frame_election_provider_support::SortedListProvider::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Hook for inserting a new id.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.on_update" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#328" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.on_update" class="fnname">on_update</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId, weight: <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>)</h4></div></summary><div class="docblock"><p>Hook for updating a single id.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.on_remove" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#331" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.on_remove" class="fnname">on_remove</a>(id: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId)</h4></div></summary><div class="docblock"><p>Hook for removing am id from the list.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.regenerate" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#336-339" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.regenerate" class="fnname">regenerate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;all: impl <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = AccountId&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;weight_of: <a class="struct" href="https://doc.rust-lang.org/1.57.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId) -&gt; <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a>&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a></h4></div></summary><div class="docblock"><p>Regenerate this list from scratch. Returns the count of items inserted.</p>
<p>This should typically only be used at a runtime upgrade.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.clear" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#344" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.clear" class="fnname">clear</a>(maybe_count: <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a></h4></div></summary><div class="docblock"><p>Remove <code>maybe_count</code> number of items from the list. Returns the number of items actually
removed. WARNING: removes all items if <code>maybe_count</code> is <code>None</code>, which should never be done
in production settings because it can lead to an unbounded amount of storage accesses.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.sanity_check" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#347" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.sanity_check" class="fnname">sanity_check</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.str.html">str</a>&gt;</h4></div></summary><div class="docblock"><p>Sanity check internal state of list. Only meant for debug compilation.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.weight_update_worst_case" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/frame_election_provider_support/lib.rs.html#352-354" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.weight_update_worst_case" class="fnname">weight_update_worst_case</a>(_who: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.reference.html">&amp;</a>AccountId, _is_increase: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a>) -&gt; <a class="type" href="type.VoteWeight.html" title="type frame_election_provider_support::VoteWeight">VoteWeight</a></h4></div></summary><div class="docblock"><p>If <code>who</code> changes by the returned amount they are guaranteed to have a worst case change
in their list position.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../implementors/frame_election_provider_support/trait.SortedListProvider.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="frame_election_provider_support" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>