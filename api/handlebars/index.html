<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Handlebars"><meta name="keywords" content="rust, rustlang, rust-lang, handlebars"><title>handlebars - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../handlebars/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate handlebars</h2><div class="block version"><div class="narrow-helper"></div><p>Version 4.1.6</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all handlebars's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="handlebars" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">handlebars</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/handlebars/lib.rs.html#1-417" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="handlebars" class="section-header"><a href="#handlebars">Handlebars</a></h2>
<p><a href="http://handlebarsjs.com/">Handlebars</a> is a modern and extensible templating solution originally created in the JavaScript world. It’s used by many popular frameworks like <a href="http://emberjs.com">Ember.js</a> and Chaplin. It’s also ported to some other platforms such as <a href="https://github.com/jknack/handlebars.java">Java</a>.</p>
<p>And this is handlebars Rust implementation, designed for general purpose text generation.</p>
<h3 id="quick-start" class="section-header"><a href="#quick-start">Quick Start</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::collections::BTreeMap</span>;
<span class="kw">use</span> <span class="ident">handlebars::Handlebars</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
  <span class="comment">// create the handlebars registry</span>
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();

  <span class="comment">// register the template. The template string will be verified and compiled.</span>
  <span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="string">&quot;hello {{world}}&quot;</span>;
  <span class="macro">assert!</span>(<span class="ident">handlebars</span>.<span class="ident">register_template_string</span>(<span class="string">&quot;t1&quot;</span>, <span class="ident">source</span>).<span class="ident">is_ok</span>());

  <span class="comment">// Prepare some data.</span>
  <span class="comment">//</span>
  <span class="comment">// The data type should implements `serde::Serialize`</span>
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">BTreeMap::new</span>();
  <span class="ident">data</span>.<span class="ident">insert</span>(<span class="string">&quot;world&quot;</span>.<span class="ident">to_string</span>(), <span class="string">&quot;世界!&quot;</span>.<span class="ident">to_string</span>());
  <span class="macro">assert_eq!</span>(<span class="ident">handlebars</span>.<span class="ident">render</span>(<span class="string">&quot;t1&quot;</span>, <span class="kw-2">&amp;</span><span class="ident">data</span>).<span class="ident">unwrap</span>(), <span class="string">&quot;hello 世界!&quot;</span>);
}</code></pre></div>
<p>In this example, we created a template registry and registered a template named <code>t1</code>.
Then we rendered a <code>BTreeMap</code> with an entry of key <code>world</code>, the result is just what
we expected.</p>
<p>I recommend you to walk through handlebars.js’ <a href="http://handlebarsjs.com">intro page</a>
if you are not quite familiar with the template language itself.</p>
<h3 id="features" class="section-header"><a href="#features">Features</a></h3>
<p>Handlebars is a real-world templating system that you can use to build
your application without pain.</p>
<h4 id="isolation-of-rust-and-html" class="section-header"><a href="#isolation-of-rust-and-html">Isolation of Rust and HTML</a></h4>
<p>This library doesn’t attempt to use some macro magic to allow you to
write your template within your rust code. I admit that it’s fun to do
that but it doesn’t fit real-world use cases.</p>
<h4 id="limited-but-essential-control-structures-built-in" class="section-header"><a href="#limited-but-essential-control-structures-built-in">Limited but essential control structures built-in</a></h4>
<p>Only essential control directives <code>if</code> and <code>each</code> are built-in. This
prevents you from putting too much application logic into your template.</p>
<h4 id="extensible-helper-system" class="section-header"><a href="#extensible-helper-system">Extensible helper system</a></h4>
<p>Helper is the control system of handlebars language. In the original JavaScript
version, you can implement your own helper with JavaScript.</p>
<p>Handlebars-rust offers similar mechanism that custom helper can be defined with
rust function, or <a href="https://github.com/jonathandturner/rhai">rhai</a> script.</p>
<p>The built-in helpers like <code>if</code> and <code>each</code> were written with these
helper APIs and the APIs are fully available to developers.</p>
<h4 id="auto-reload-in-dev-mode" class="section-header"><a href="#auto-reload-in-dev-mode">Auto-reload in dev mode</a></h4>
<p>By turning on <code>dev_mode</code>, handlebars auto reloads any template and scripts that
loaded from files or directory. This can be handy for template development.</p>
<h4 id="template-inheritance" class="section-header"><a href="#template-inheritance">Template inheritance</a></h4>
<p>Every time I look into a templating system, I will investigate its
support for <a href="https://docs.djangoproject.com/en/3.2/ref/templates/language/#template-inheritance">template inheritance</a>.</p>
<p>Template include is not sufficient for template reuse. In most cases
you will need a skeleton of page as parent (header, footer, etc.), and
embed your page into this parent.</p>
<p>You can find a real example of template inheritance in
<code>examples/partials.rs</code> and templates used by this file.</p>
<h4 id="strict-mode" class="section-header"><a href="#strict-mode">Strict mode</a></h4>
<p>Handlebars, the language designed to work with JavaScript, has no
strict restriction on accessing nonexistent fields or indexes. It
generates empty strings for such cases. However, in Rust we want to be
a little stricter sometimes.</p>
<p>By enabling <code>strict_mode</code> on handlebars:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">handlebars</span>.<span class="ident">set_strict_mode</span>(<span class="bool-val">true</span>);</code></pre></div>
<p>You will get a <code>RenderError</code> when accessing fields that do not exist.</p>
<h3 id="limitations" class="section-header"><a href="#limitations">Limitations</a></h3><h4 id="compatibility-with-original-javascript-version" class="section-header"><a href="#compatibility-with-original-javascript-version">Compatibility with original JavaScript version</a></h4>
<p>This implementation is <strong>not fully compatible</strong> with the original JavaScript version.</p>
<p>First of all, mustache blocks are not supported. I suggest you to use <code>#if</code> and <code>#each</code> for
the same functionality.</p>
<p>There are some other minor features missing:</p>
<ul>
<li>Chained else <a href="https://github.com/sunng87/handlebars-rust/issues/12">#12</a></li>
</ul>
<p>Feel free to file an issue on <a href="https://github.com/sunng87/handlebars-rust/issues">github</a> if
you find missing features.</p>
<h4 id="types" class="section-header"><a href="#types">Types</a></h4>
<p>As a static typed language, it’s a little verbose to use handlebars.
Handlebars templating language is designed against JSON data type. In rust,
we will convert user’s structs, vectors or maps into Serde-Json’s <code>Value</code> type
in order to use in templates. You have to make sure your data implements the
<code>Serialize</code> trait from the <a href="https://serde.rs">Serde</a> project.</p>
<h3 id="usage" class="section-header"><a href="#usage">Usage</a></h3><h4 id="template-creation-and-registration" class="section-header"><a href="#template-creation-and-registration">Template Creation and Registration</a></h4>
<p>Templates are created from <code>String</code>s and registered to <code>Handlebars</code> with a name.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="kw">use</span> <span class="ident">handlebars::Handlebars</span>;

  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();
  <span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="string">&quot;hello {{world}}&quot;</span>;

  <span class="macro">assert!</span>(<span class="ident">handlebars</span>.<span class="ident">register_template_string</span>(<span class="string">&quot;t1&quot;</span>, <span class="ident">source</span>).<span class="ident">is_ok</span>())</code></pre></div>
<p>On registration, the template is parsed, compiled and cached in the registry. So further
usage will benefit from the one-time work. Also features like include, inheritance
that involves template reference requires you to register those template first with
a name so the registry can find it.</p>
<p>If you template is small or just to experiment, you can use <code>render_template</code> API
without registration.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">handlebars::Handlebars</span>;
<span class="kw">use</span> <span class="ident">std::collections::BTreeMap</span>;

  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();
  <span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="string">&quot;hello {{world}}&quot;</span>;

  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">BTreeMap::new</span>();
  <span class="ident">data</span>.<span class="ident">insert</span>(<span class="string">&quot;world&quot;</span>.<span class="ident">to_string</span>(), <span class="string">&quot;世界!&quot;</span>.<span class="ident">to_string</span>());
  <span class="macro">assert_eq!</span>(<span class="ident">handlebars</span>.<span class="ident">render_template</span>(<span class="ident">source</span>, <span class="kw-2">&amp;</span><span class="ident">data</span>)<span class="question-mark">?</span>, <span class="string">&quot;hello 世界!&quot;</span>.<span class="ident">to_owned</span>());</code></pre></div>
<h4 id="rendering-something" class="section-header"><a href="#rendering-something">Rendering Something</a></h4>
<p>Since handlebars is originally based on JavaScript type system. It supports dynamic features like duck-typing, truthy/falsey values. But for a static language like Rust, this is a little difficult. As a solution, we are using the <code>serde_json::value::Value</code> internally for data rendering.</p>
<p>That means, if you want to render something, you have to ensure the data type implements the <code>serde::Serialize</code> trait. Most rust internal types already have that trait. Use <code>#derive[Serialize]</code> for your types to generate default implementation.</p>
<p>You can use default <code>render</code> function to render a template into <code>String</code>. From 0.9, there’s <code>render_to_write</code> to render text into anything of <code>std::io::Write</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="kw">use</span> <span class="ident">handlebars::Handlebars</span>;

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Serialize</span>)]</span>
<span class="kw">struct</span> <span class="ident">Person</span> {
  <span class="ident">name</span>: <span class="ident">String</span>,
  <span class="ident">age</span>: <span class="ident">i16</span>,
}

  <span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="string">&quot;Hello, {{name}}&quot;</span>;

  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();
  <span class="macro">assert!</span>(<span class="ident">handlebars</span>.<span class="ident">register_template_string</span>(<span class="string">&quot;hello&quot;</span>, <span class="ident">source</span>).<span class="ident">is_ok</span>());


  <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">Person</span> {
      <span class="ident">name</span>: <span class="string">&quot;Ning Sun&quot;</span>.<span class="ident">to_string</span>(),
      <span class="ident">age</span>: <span class="number">27</span>
  };
  <span class="macro">assert_eq!</span>(<span class="ident">handlebars</span>.<span class="ident">render</span>(<span class="string">&quot;hello&quot;</span>, <span class="kw-2">&amp;</span><span class="ident">data</span>)<span class="question-mark">?</span>, <span class="string">&quot;Hello, Ning Sun&quot;</span>.<span class="ident">to_owned</span>());</code></pre></div>
<p>Or if you don’t need the template to be cached or referenced by other ones, you can
simply render it without registering.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">handlebars::Handlebars</span>;

  <span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="string">&quot;Hello, {{name}}&quot;</span>;

  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();

  <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">Person</span> {
      <span class="ident">name</span>: <span class="string">&quot;Ning Sun&quot;</span>.<span class="ident">to_string</span>(),
      <span class="ident">age</span>: <span class="number">27</span>
  };
  <span class="macro">assert_eq!</span>(<span class="ident">handlebars</span>.<span class="ident">render_template</span>(<span class="string">&quot;Hello, {{name}}&quot;</span>, <span class="kw-2">&amp;</span><span class="ident">data</span>)<span class="question-mark">?</span>,
      <span class="string">&quot;Hello, Ning Sun&quot;</span>.<span class="ident">to_owned</span>());</code></pre></div>
<h5 id="escaping" class="section-header"><a href="#escaping">Escaping</a></h5>
<p>As per the handlebars spec, output using <code>{{expression}}</code> is escaped by default (to be precise, the characters <code>&amp;&quot;&lt;&gt;</code> are replaced by their respective html / xml entities). However, since the use cases of a rust template engine are probably a bit more diverse than those of a JavaScript one, this implementation allows the user to supply a custom escape function to be used instead. For more information see the <code>EscapeFn</code> type and <code>Handlebars::register_escape_fn()</code> method. In particular, <code>no_escape()</code> can be used as the escape function if no escaping at all should be performed.</p>
<h4 id="custom-helper" class="section-header"><a href="#custom-helper">Custom Helper</a></h4>
<p>Handlebars is nothing without helpers. You can also create your own helpers with rust. Helpers in handlebars-rust are custom struct implements the <code>HelperDef</code> trait, concretely, the <code>call</code> function. For your convenience, most of stateless helpers can be implemented as bare functions.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::Write</span>;
<span class="kw">use</span> <span class="ident">handlebars</span>::{<span class="ident">Handlebars</span>, <span class="ident">HelperDef</span>, <span class="ident">RenderContext</span>, <span class="ident">Helper</span>, <span class="ident">Context</span>, <span class="ident">JsonRender</span>, <span class="ident">HelperResult</span>, <span class="ident">Output</span>, <span class="ident">RenderError</span>};

<span class="comment">// implement by a structure impls HelperDef</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>, <span class="ident">Copy</span>)]</span>
<span class="kw">struct</span> <span class="ident">SimpleHelper</span>;

<span class="kw">impl</span> <span class="ident">HelperDef</span> <span class="kw">for</span> <span class="ident">SimpleHelper</span> {
  <span class="kw">fn</span> <span class="ident">call</span><span class="op">&lt;</span><span class="lifetime">&#39;reg</span>: <span class="lifetime">&#39;rc</span>, <span class="lifetime">&#39;rc</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">h</span>: <span class="kw-2">&amp;</span><span class="ident">Helper</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">Handlebars</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">Context</span>, <span class="ident">rc</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">RenderContext</span>, <span class="ident">out</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw">dyn</span> <span class="ident">Output</span>) -&gt; <span class="ident">HelperResult</span> {
    <span class="kw">let</span> <span class="ident">param</span> <span class="op">=</span> <span class="ident">h</span>.<span class="ident">param</span>(<span class="number">0</span>).<span class="ident">unwrap</span>();

    <span class="ident">out</span>.<span class="ident">write</span>(<span class="string">&quot;1st helper: &quot;</span>)<span class="question-mark">?</span>;
    <span class="ident">out</span>.<span class="ident">write</span>(<span class="ident">param</span>.<span class="ident">value</span>().<span class="ident">render</span>().<span class="ident">as_ref</span>())<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
  }
}

<span class="comment">// implement via bare function</span>
<span class="kw">fn</span> <span class="ident">another_simple_helper</span> (<span class="ident">h</span>: <span class="kw-2">&amp;</span><span class="ident">Helper</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">Handlebars</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">Context</span>, <span class="ident">rc</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">RenderContext</span>, <span class="ident">out</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw">dyn</span> <span class="ident">Output</span>) -&gt; <span class="ident">HelperResult</span> {
    <span class="kw">let</span> <span class="ident">param</span> <span class="op">=</span> <span class="ident">h</span>.<span class="ident">param</span>(<span class="number">0</span>).<span class="ident">unwrap</span>();

    <span class="ident">out</span>.<span class="ident">write</span>(<span class="string">&quot;2nd helper: &quot;</span>)<span class="question-mark">?</span>;
    <span class="ident">out</span>.<span class="ident">write</span>(<span class="ident">param</span>.<span class="ident">value</span>().<span class="ident">render</span>().<span class="ident">as_ref</span>())<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}


  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">handlebars</span> <span class="op">=</span> <span class="ident">Handlebars::new</span>();
  <span class="ident">handlebars</span>.<span class="ident">register_helper</span>(<span class="string">&quot;simple-helper&quot;</span>, <span class="ident">Box::new</span>(<span class="ident">SimpleHelper</span>));
  <span class="ident">handlebars</span>.<span class="ident">register_helper</span>(<span class="string">&quot;another-simple-helper&quot;</span>, <span class="ident">Box::new</span>(<span class="ident">another_simple_helper</span>));
  <span class="comment">// via closure</span>
  <span class="ident">handlebars</span>.<span class="ident">register_helper</span>(<span class="string">&quot;closure-helper&quot;</span>,
      <span class="ident">Box::new</span>(<span class="op">|</span><span class="ident">h</span>: <span class="kw-2">&amp;</span><span class="ident">Helper</span>, <span class="ident">r</span>: <span class="kw-2">&amp;</span><span class="ident">Handlebars</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">Context</span>, <span class="ident">rc</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">RenderContext</span>, <span class="ident">out</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw">dyn</span> <span class="ident">Output</span><span class="op">|</span> -&gt; <span class="ident">HelperResult</span> {
          <span class="kw">let</span> <span class="ident">param</span> <span class="op">=</span> <span class="ident">h</span>.<span class="ident">param</span>(<span class="number">0</span>).<span class="ident">ok_or</span>(<span class="ident">RenderError::new</span>(<span class="string">&quot;param not found&quot;</span>))<span class="question-mark">?</span>;

          <span class="ident">out</span>.<span class="ident">write</span>(<span class="string">&quot;3rd helper: &quot;</span>)<span class="question-mark">?</span>;
          <span class="ident">out</span>.<span class="ident">write</span>(<span class="ident">param</span>.<span class="ident">value</span>().<span class="ident">render</span>().<span class="ident">as_ref</span>())<span class="question-mark">?</span>;
          <span class="prelude-val">Ok</span>(())
      }));

  <span class="kw">let</span> <span class="ident">tpl</span> <span class="op">=</span> <span class="string">&quot;{{simple-helper 1}}\n{{another-simple-helper 2}}\n{{closure-helper 3}}&quot;</span>;
  <span class="macro">assert_eq!</span>(<span class="ident">handlebars</span>.<span class="ident">render_template</span>(<span class="ident">tpl</span>, <span class="kw-2">&amp;</span>())<span class="question-mark">?</span>,
      <span class="string">&quot;1st helper: 1\n2nd helper: 2\n3rd helper: 3&quot;</span>.<span class="ident">to_owned</span>());
</code></pre></div>
<p>Data available to helper can be found in <a href="struct.Helper.html">Helper</a>. And there are more
examples in <a href="trait.HelperDef.html">HelperDef</a> page.</p>
<p>You can learn more about helpers by looking into source code of built-in helpers.</p>
<h4 id="script-helper" class="section-header"><a href="#script-helper">Script Helper</a></h4>
<p>Like our JavaScript counterparts, handlebars allows user to define simple helpers with
a scripting language, <a href="https://docs.rs/crate/rhai/">rhai</a>. This can be enabled by
turning on <code>script_helper</code> feature flag.</p>
<p>A sample script:</p>
<div class="example-wrap"><pre class="language-handlebars"><code>{{percent 0.34 label=&quot;%&quot;}}</code></pre></div><div class="example-wrap"><pre class="language-rhai"><code>// percent.rhai
// get first parameter from `params` array
let value = params[0];
// get key  value pair `label` from `hash` map
let label = hash[&quot;label&quot;];

// compute the final string presentation
(value * 100).to_string() + label</code></pre></div>
<p>A runnable <a href="https://github.com/sunng87/handlebars-rust/blob/master/examples/script.rs">example</a> can be find in the repo.</p>
<h5 id="built-in-helpers" class="section-header"><a href="#built-in-helpers">Built-in Helpers</a></h5>
<ul>
<li><code>{{{{raw}}}} ... {{{{/raw}}}}</code> escape handlebars expression within the block</li>
<li><code>{{#if ...}} ... {{else}} ... {{/if}}</code> if-else block
(See <a href="https://handlebarsjs.com/guide/builtin-helpers.html#if">the handlebarjs documentation</a> on how to use this helper.)</li>
<li><code>{{#unless ...}} ... {{else}} .. {{/unless}}</code> if-not-else block
(See <a href="https://handlebarsjs.com/guide/builtin-helpers.html#unless">the handlebarjs documentation</a> on how to use this helper.)</li>
<li><code>{{#each ...}} ... {{/each}}</code> iterates over an array or object. Handlebars-rust doesn’t support mustache iteration syntax so use <code>each</code> instead.
(See <a href="https://handlebarsjs.com/guide/builtin-helpers.html#each">the handlebarjs documentation</a> on how to use this helper.)</li>
<li><code>{{#with ...}} ... {{/with}}</code> change current context. Similar to <code>{{#each}}</code>, used for replace corresponding mustache syntax.
(See <a href="https://handlebarsjs.com/guide/builtin-helpers.html#with">the handlebarjs documentation</a> on how to use this helper.)</li>
<li><code>{{lookup ... ...}}</code> get value from array by <code>@index</code> or <code>@key</code>
(See <a href="https://handlebarsjs.com/guide/builtin-helpers.html#lookup">the handlebarjs documentation</a> on how to use this helper.)</li>
<li><code>{{&gt; ...}}</code> include template by its name</li>
<li><code>{{log ...}}</code> log value with rust logger, default level: INFO. Currently you cannot change the level.</li>
<li>Boolean helpers that can be used in <code>if</code> as subexpression, for example <code>{{#if (gt 2 1)}} ...</code>:
<ul>
<li><code>eq</code></li>
<li><code>ne</code></li>
<li><code>gt</code></li>
<li><code>gte</code></li>
<li><code>lt</code></li>
<li><code>lte</code></li>
<li><code>and</code></li>
<li><code>or</code></li>
<li><code>not</code></li>
</ul>
</li>
<li><code>{{len ...}}</code> returns length of array/object/string</li>
</ul>
<h4 id="template-inheritance-1" class="section-header"><a href="#template-inheritance-1">Template inheritance</a></h4>
<p>Handlebars.js’ partial system is fully supported in this implementation.
Check <a href="https://github.com/sunng87/handlebars-rust/blob/master/examples/partials.rs#L49">example</a> for details.</p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use self::template::<a class="struct" href="template/struct.Template.html" title="struct handlebars::template::Template">Template</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="template/index.html" title="handlebars::template mod">template</a></div><div class="item-right docblock-short"></div></div></div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.handlebars_helper.html" title="handlebars::handlebars_helper macro">handlebars_helper</a></div><div class="item-right docblock-short"><p>Macro that allows you to quickly define a handlebars helper by passing a
name and a closure.</p>
</div></div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BlockContext.html" title="handlebars::BlockContext struct">BlockContext</a></div><div class="item-right docblock-short"><p>A data structure holds contextual data for current block scope.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BlockParams.html" title="handlebars::BlockParams struct">BlockParams</a></div><div class="item-right docblock-short"><p>A map holds block parameters. The parameter can be either a value or a reference</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Context.html" title="handlebars::Context struct">Context</a></div><div class="item-right docblock-short"><p>The context wrap data you render on your templates.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Decorator.html" title="handlebars::Decorator struct">Decorator</a></div><div class="item-right docblock-short"><p>Render-time Decorator data when using in a decorator definition</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Handlebars.html" title="handlebars::Handlebars struct">Handlebars</a></div><div class="item-right docblock-short"><p>The single entry point of your Handlebars templates</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Helper.html" title="handlebars::Helper struct">Helper</a></div><div class="item-right docblock-short"><p>Render-time Helper data when using in a helper definition</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PathAndJson.html" title="handlebars::PathAndJson struct">PathAndJson</a></div><div class="item-right docblock-short"><p>Json wrapper that holds the Json value and reference path information</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RenderContext.html" title="handlebars::RenderContext struct">RenderContext</a></div><div class="item-right docblock-short"><p>The context of a render call</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RenderError.html" title="handlebars::RenderError struct">RenderError</a></div><div class="item-right docblock-short"><p>Error when rendering data on template.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringOutput.html" title="handlebars::StringOutput struct">StringOutput</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TemplateError.html" title="handlebars::TemplateError struct">TemplateError</a></div><div class="item-right docblock-short"><p>Error on parsing template.</p>
</div></div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Path.html" title="handlebars::Path enum">Path</a></div><div class="item-right docblock-short"><p>Represents the Json path in templates.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ScopedJson.html" title="handlebars::ScopedJson enum">ScopedJson</a></div><div class="item-right docblock-short"><p>A JSON wrapper designed for handlebars internal use case</p>
</div></div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DecoratorDef.html" title="handlebars::DecoratorDef trait">DecoratorDef</a></div><div class="item-right docblock-short"><p>Decorator Definition</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Evaluable.html" title="handlebars::Evaluable trait">Evaluable</a></div><div class="item-right docblock-short"><p>Evaluate decorator</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.HelperDef.html" title="handlebars::HelperDef trait">HelperDef</a></div><div class="item-right docblock-short"><p>Helper Definition</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.JsonRender.html" title="handlebars::JsonRender trait">JsonRender</a></div><div class="item-right docblock-short"><p>Render Json data with default format</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Output.html" title="handlebars::Output trait">Output</a></div><div class="item-right docblock-short"><p>The Output API.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Renderable.html" title="handlebars::Renderable trait">Renderable</a></div><div class="item-right docblock-short"><p>Render trait</p>
</div></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.html_escape.html" title="handlebars::html_escape fn">html_escape</a></div><div class="item-right docblock-short"><p>The default <em>escape fn</em> replaces the characters <code>&amp;&quot;&lt;&gt;</code>
with the equivalent html / xml entities.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.no_escape.html" title="handlebars::no_escape fn">no_escape</a></div><div class="item-right docblock-short"><p><code>EscapeFn</code> that does not change anything. Useful when using in a non-html
environment.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.to_json.html" title="handlebars::to_json fn">to_json</a></div><div class="item-right docblock-short"><p>Convert any serializable data into Serde Json type</p>
</div></div></div><h2 id="types-1" class="section-header"><a href="#types-1">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.EscapeFn.html" title="handlebars::EscapeFn type">EscapeFn</a></div><div class="item-right docblock-short"><p>This type represents an <em>escape fn</em>, that is a function whose purpose it is
to escape potentially problematic characters in a string.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.HelperResult.html" title="handlebars::HelperResult type">HelperResult</a></div><div class="item-right docblock-short"><p>A type alias for <code>Result&lt;(), RenderError&gt;</code></p>
</div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="handlebars" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>