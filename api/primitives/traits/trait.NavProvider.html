<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Abstracts net asset value (`NAV`) related calculations"><meta name="keywords" content="rust, rustlang, rust-lang, NavProvider"><title>NavProvider in primitives::traits - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../primitives/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait NavProvider</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.asset_balance">asset_balance</a><a href="#tymethod.asset_equivalent">asset_equivalent</a><a href="#tymethod.asset_proportion">asset_proportion</a><a href="#tymethod.asset_proportions">asset_proportions</a><a href="#tymethod.calculate_net_asset_value">calculate_net_asset_value</a><a href="#tymethod.calculate_net_liquid_value">calculate_net_liquid_value</a><a href="#tymethod.calculate_net_saft_value">calculate_net_saft_value</a><a href="#tymethod.index_token_equivalent">index_token_equivalent</a><a href="#tymethod.index_token_issuance">index_token_issuance</a><a href="#tymethod.liquid_asset_proportion">liquid_asset_proportion</a><a href="#tymethod.liquid_asset_proportions">liquid_asset_proportions</a><a href="#tymethod.liquid_nav">liquid_nav</a><a href="#tymethod.nav">nav</a><a href="#tymethod.net_asset_value">net_asset_value</a><a href="#tymethod.relative_asset_price">relative_asset_price</a><a href="#tymethod.saft_asset_proportion">saft_asset_proportion</a><a href="#tymethod.saft_asset_proportions">saft_asset_proportions</a><a href="#tymethod.saft_nav">saft_nav</a><a href="#tymethod.total_net_asset_value">total_net_asset_value</a><a href="#tymethod.total_net_liquid_value">total_net_liquid_value</a><a href="#tymethod.total_net_saft_value">total_net_saft_value</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.navs">navs</a><a href="#method.net_liquid_value">net_liquid_value</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">primitives</a>::<wbr><a href="index.html">traits</a></h2><div id="sidebar-vars" data-name="NavProvider" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">primitives</a>::<wbr><a href="index.html">traits</a>::<wbr><a class="trait" href="#">NavProvider</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/primitives/traits.rs.html#73-240" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait NavProvider&lt;AssetId:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.57.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>, Balance&gt;: <a class="trait" href="trait.SaftRegistry.html" title="trait primitives::traits::SaftRegistry">SaftRegistry</a>&lt;AssetId, Balance&gt; {
<details class="rustdoc-toggle type-contents-toggle"><summary class="hideme"><span>Show 23 methods</span></summary>    fn <a href="#tymethod.index_token_equivalent" class="fnname">index_token_equivalent</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.asset_equivalent" class="fnname">asset_equivalent</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index_tokens: Balance, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.relative_asset_price" class="fnname">relative_asset_price</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetPricePair.html" title="struct primitives::types::AssetPricePair">AssetPricePair</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.calculate_net_asset_value" class="fnname">calculate_net_asset_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.calculate_net_liquid_value" class="fnname">calculate_net_liquid_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.calculate_net_saft_value" class="fnname">calculate_net_saft_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.total_net_liquid_value" class="fnname">total_net_liquid_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.total_net_saft_value" class="fnname">total_net_saft_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.total_net_asset_value" class="fnname">total_net_asset_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.net_asset_value" class="fnname">net_asset_value</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.nav" class="fnname">nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.liquid_nav" class="fnname">liquid_nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.saft_nav" class="fnname">saft_nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.asset_proportion" class="fnname">asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.liquid_asset_proportion" class="fnname">liquid_asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.saft_asset_proportion" class="fnname">saft_asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.asset_proportions" class="fnname">asset_proportions</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.liquid_asset_proportions" class="fnname">liquid_asset_proportions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.saft_asset_proportions" class="fnname">saft_asset_proportions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.index_token_issuance" class="fnname">index_token_issuance</a>() -&gt; Balance;
<div class="item-spacer"></div>    fn <a href="#tymethod.asset_balance" class="fnname">asset_balance</a>(asset: AssetId) -&gt; Balance;

    fn <a href="#method.net_liquid_value" class="fnname">net_liquid_value</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.navs" class="fnname">navs</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.tuple.html">(</a><a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.tuple.html">)</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt; { ... }
</details>}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Abstracts net asset value (<code>NAV</code>) related calculations</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.index_token_equivalent" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#82" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.index_token_equivalent" class="fnname">index_token_equivalent</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the amount of index tokens that the given units of the asset
are worth.</p>
<p>This is achieved by dividing the value of the given units by the index’ <code>NAV</code> (the on chain
price of a index token). The value, or volume, of all the <code>units</code> is determined by
<code>value(units) = units * Price_asset</code> (see: <code>asset_net_value</code>), and since the <code>NAV</code>
represents the per token value of the index token, the equivalent number of index token is
<code>value(units) / NAV</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.asset_equivalent" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#91" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.asset_equivalent" class="fnname">asset_equivalent</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;index_tokens: Balance, <br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the units of the given asset that the given number of
index_tokens are worth.
This is the reverse of <code>index_token_equivalent</code>.</p>
<p>This is calculated by determining the net value of the given amount of index tokens
and dividing it by the current price of the <code>asset</code>:
<code>units_asset = (NAV * index_tokens) / Price_asset</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.relative_asset_price" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#102" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.relative_asset_price" class="fnname">relative_asset_price</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetPricePair.html" title="struct primitives::types::AssetPricePair">AssetPricePair</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the price of the asset relative to the <code>NAV</code> of the index token.</p>
<p>This is a price pair in the form of <code>base/quote</code> whereas <code>base</code> is the <code>NAV</code> of the index
token and <code>quote</code> the current price for the asset:  <code>NAV / Price_asset</code>.</p>
<p><em>Note:</em>
The price (or the value of 1 unit) of an asset secured by SAFTs is determined by the
total asset value secured by all SAFTs divided by the units held in the index, (see:
<a href="trait.SaftRegistry.html#tymethod.net_saft_value" title="SaftRegistry::net_saft_value"><code>SaftRegistry::net_saft_value</code></a>)</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.calculate_net_asset_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#112" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.calculate_net_asset_value" class="fnname">calculate_net_asset_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of the given units of the given asset.</p>
<p>If the asset is liquid then the net value of an asset is determined by
multiplying the share price of the asset by the given amount.: <code>units * Price_asset</code>.</p>
<p>If the asset is secured by SAFTs then the net value is determined by the net value
of the associated <code>SAFTRecords</code>, (see: <a href="trait.SaftRegistry.html#tymethod.net_saft_value" title="SaftRegistry::net_saft_value"><code>SaftRegistry::net_saft_value</code></a>).</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.calculate_net_liquid_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#120" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.calculate_net_liquid_value" class="fnname">calculate_net_liquid_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of the given units of the given <em>liquid</em> asset.</p>
<p>In contrast to <code>calculate_asset_net_value</code>, here it is not checked
whether the specified asset is liquid, but it is expected that this is
the case and it attempts to determine the net value using the asset’s
price feed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.calculate_net_saft_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#127" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.calculate_net_saft_value" class="fnname">calculate_net_saft_value</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;asset: AssetId, <br>&nbsp;&nbsp;&nbsp;&nbsp;units: Balance<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of the given units of the given SAFT.</p>
<p>In contrast to <code>calculate_asset_net_value</code>, here it is not checked
whether the specified asset is secured by SAFT.
The net value is then determined by  <a href="trait.SaftRegistry.html#tymethod.net_saft_value" title="SaftRegistry::net_saft_value"><code>SaftRegistry::net_saft_value</code></a></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.total_net_liquid_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#133" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.total_net_liquid_value" class="fnname">total_net_liquid_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of all liquid assets combined.</p>
<p>This is essentially the sum of the value of all liquid assets:
<code>net_liquid_value(Asset_0) + net_liquid_value(Asset_1) ...</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.total_net_saft_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#139" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.total_net_saft_value" class="fnname">total_net_saft_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of all SAFT combined.</p>
<p>This is essentially the sum of the value of all SAFTs:
<code>net_saft_value(Asset_0) + net_saft_value(Asset_1) ...</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.total_net_asset_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#149" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.total_net_asset_value" class="fnname">total_net_asset_value</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../primitive_types/struct.U256.html" title="struct primitive_types::U256">U256</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net asset value of all the index tokens which is equal to the
sum of the total value of all assets.</p>
<p>Since the <code>NAV</code> represents the per index token value, net value of all
index tokens is the product of the <code>NAV</code> and the total supply of index
tokens: <code>NAV * index_token_issuance</code>.
Or Simplified:
<code>total_net_liquid_value + total_net_saft_value</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.net_asset_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#164" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.net_asset_value" class="fnname">net_asset_value</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of the given asset that were contributed to the index.</p>
<p>The net value of an asset is determined by multiplying the share price
of the asset by the amount deposited in the index.: <code>Price_asset * Index Deposit</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.nav" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#187" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.nav" class="fnname">nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the <code>NAV</code> of the index token, consisting of liquid assets
and SAFT.</p>
<p>This the <em>per token value</em> (value of a single unit of index token, or its
on chain price)</p>
<p>The the NAV is calculated by dividing the total value of all the
contributed assets by the total supply of index token:
<code>NAV = (NAV_0 + NAV_1+ ... + NAV_n) / TotalSupply(PINT)</code>. where
<code>NAV_n</code> is the net value of all shares of the specific asset that were
contributed to the index (see <code>calculate_net_asset_value</code>). And the sum of all of them is
the <code>total_asset_net_value</code>.
<em>Note:</em> in contrast to the index’ <code>NAV</code> (which is a <em>per token</em> value) all <code>NAV_n</code> are the
total volume of the specific asset. For example if the index consists of two liquid assets
<code>L1</code> and <code>L2</code> then the total formula is <code>NAV = ( L1_units * L1_price + L2_units * L2_price) / TotalSupply(PINT)</code> which is also equivalent to
<code>(L1_units * L1_price / TotalSupply(PINT)) + (L2_units * L2_price / TotalSupply(PINT))</code></p>
<p>This can be simplified to
<code>NAV = (Liquid_net_value + SAFT_net_value) / Total Supply</code>,
which is also <code>NAV = NAV_liquids + NAV_saft</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.liquid_nav" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#204" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.liquid_nav" class="fnname">liquid_nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the NAV of the index token solely for the liquid assets.
This is a <em>per token value</em>: the value of a single unit of index token for the funds total
liquid value.</p>
<p>Following the <code>total_nav</code> calculation, the <code>NAV_liquids</code> is determined
by <code>NAV_liquids = NAV - (SAFT_net_value / TotalSupply(PINT))</code>
Or simplified
<code>NAV - NAV_saft</code>, which is  <code>Liquid_net_value / TotalSupply(PINT)</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.saft_nav" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#212" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.saft_nav" class="fnname">saft_nav</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the NAV of the index token solely for the SAFT
This is a <em>per token value</em>: the value of a single unit of index token for the funds total
SAFT value.</p>
<p>Following <code>liquid_nav</code> calculation, this is determined by:
<code>SAFT_net_value / TotalSupply(PINT)</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.asset_proportion" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#216" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.asset_proportion" class="fnname">asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the share of the asset in the total value of the index:
<code>Asset Value / Total Net Asset Value</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.liquid_asset_proportion" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#220" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.liquid_asset_proportion" class="fnname">liquid_asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the share of the liquid asset in the total value of all liquid assets in the index:
<code>Asset Value / Liquid Net Asset Value</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.saft_asset_proportion" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#224" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.saft_asset_proportion" class="fnname">saft_asset_proportion</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../types/type.Ratio.html" title="type primitives::types::Ratio">Ratio</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the share of the asset in the total value of all SAFTs of the asset in the index:
<code>Asset Value / SAFT Net Asset Value</code></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.asset_proportions" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#227" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.asset_proportions" class="fnname">asset_proportions</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the proportions for each asset in the index</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.liquid_asset_proportions" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#230" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.liquid_asset_proportions" class="fnname">liquid_asset_proportions</a>(<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the proportions for each liquid asset in total value of liquid assets in the index</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.saft_asset_proportions" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#233" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.saft_asset_proportions" class="fnname">saft_asset_proportions</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../types/struct.AssetProportions.html" title="struct primitives::types::AssetProportions">AssetProportions</a>&lt;AssetId&gt;, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the proportions for each saft asset in total value of SAFTs in the index</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.index_token_issuance" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#236" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.index_token_issuance" class="fnname">index_token_issuance</a>() -&gt; Balance</h4></div></summary><div class="docblock"><p>The total supply of index tokens currently in circulation.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.asset_balance" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#239" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.asset_balance" class="fnname">asset_balance</a>(asset: AssetId) -&gt; Balance</h4></div></summary><div class="docblock"><p>The amount of the given asset currently held in the index.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.net_liquid_value" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#155-157" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.net_liquid_value" class="fnname">net_liquid_value</a>(asset: AssetId) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Balance, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Calculates the net value of the given liquid asset.</p>
<p>In contrast to <code>net_asset_value</code>, here it is not checked whether the
specified asset is liquid.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.navs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/primitives/traits.rs.html#192-194" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.navs" class="fnname">navs</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.tuple.html">(</a><a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a>, <a class="type" href="../types/type.Price.html" title="type primitives::types::Price">Price</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.tuple.html">)</a>, <a class="enum" href="../../sp_runtime/enum.DispatchError.html" title="enum sp_runtime::DispatchError">DispatchError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the per token <code>NAV</code> of the index token split to (<code>liquid</code>, <code>saft</code>).</p>
<p>Summed up, both of them add up to the total nav <a href="trait.NavProvider.html#tymethod.nav" title="NavProvider::nav"><code>NavProvider::nav</code></a></p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/primitives/traits/trait.NavProvider.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="primitives" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>