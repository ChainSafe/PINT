<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The sandbox context used to execute sandboxed functions."><meta name="keywords" content="rust, rustlang, rust-lang, SandboxContext"><title>SandboxContext in sc_executor::sandbox - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../sc_executor/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait SandboxContext</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.invoke">invoke</a><a href="#tymethod.supervisor_context">supervisor_context</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">sc_executor</a>::<wbr><a href="index.html">sandbox</a></h2><div id="sidebar-vars" data-name="SandboxContext" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">sc_executor</a>::<wbr><a href="index.html">sandbox</a>::<wbr><a class="trait" href="#">SandboxContext</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/sc_executor_common/sandbox.rs.html#170-194" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait SandboxContext {
    fn <a href="#tymethod.invoke" class="fnname">invoke</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_ptr: <a class="struct" href="../../sp_wasm_interface/struct.Pointer.html" title="struct sp_wasm_interface::Pointer">Pointer</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_len: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func_idx: <a class="struct" href="struct.SupervisorFuncIndex.html" title="struct sc_executor::sandbox::SupervisorFuncIndex">SupervisorFuncIndex</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.i64.html">i64</a>, <a class="enum" href="../error/enum.Error.html" title="enum sc_executor::error::Error">Error</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.supervisor_context" class="fnname">supervisor_context</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="../../sp_wasm_interface/trait.FunctionContext.html" title="trait sp_wasm_interface::FunctionContext">FunctionContext</a>;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The sandbox context used to execute sandboxed functions.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.invoke" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/sc_executor_common/sandbox.rs.html#184-190" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.invoke" class="fnname">invoke</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_ptr: <a class="struct" href="../../sp_wasm_interface/struct.Pointer.html" title="struct sp_wasm_interface::Pointer">Pointer</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_len: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;func_idx: <a class="struct" href="struct.SupervisorFuncIndex.html" title="struct sc_executor::sandbox::SupervisorFuncIndex">SupervisorFuncIndex</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.i64.html">i64</a>, <a class="enum" href="../error/enum.Error.html" title="enum sc_executor::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Invoke a function in the supervisor environment.</p>
<p>This first invokes the dispatch thunk function, passing in the function index of the
desired function to call and serialized arguments. The thunk calls the desired function
with the deserialized arguments, then serializes the result into memory and returns
reference. The pointer to and length of the result in linear memory is encoded into an
<code>i64</code>, with the upper 32 bits representing the pointer and the lower 32 bits representing
the length.</p>
<h5 id="errors" class="section-header"><a href="#errors">Errors</a></h5>
<p>Returns <code>Err</code> if the dispatch_thunk function has an incorrect signature or traps during
execution.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.supervisor_context" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/sc_executor_common/sandbox.rs.html#193" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.supervisor_context" class="fnname">supervisor_context</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="../../sp_wasm_interface/trait.FunctionContext.html" title="trait sp_wasm_interface::FunctionContext">FunctionContext</a></h4></div></summary><div class="docblock"><p>Returns the supervisor context.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/sc_executor_common/sandbox/trait.SandboxContext.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="sc_executor" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>