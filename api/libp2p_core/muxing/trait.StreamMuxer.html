<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implemented on objects that can open and manage substreams."><meta name="keywords" content="rust, rustlang, rust-lang, StreamMuxer"><title>StreamMuxer in libp2p_core::muxing - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../libp2p_core/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait StreamMuxer</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.Error">Error</a><a href="#associatedtype.OutboundSubstream">OutboundSubstream</a><a href="#associatedtype.Substream">Substream</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.close">close</a><a href="#tymethod.destroy_outbound">destroy_outbound</a><a href="#tymethod.destroy_substream">destroy_substream</a><a href="#tymethod.flush_all">flush_all</a><a href="#tymethod.flush_substream">flush_substream</a><a href="#tymethod.open_outbound">open_outbound</a><a href="#tymethod.poll_event">poll_event</a><a href="#tymethod.poll_outbound">poll_outbound</a><a href="#tymethod.read_substream">read_substream</a><a href="#tymethod.shutdown_substream">shutdown_substream</a><a href="#tymethod.write_substream">write_substream</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.is_remote_acknowledged">is_remote_acknowledged</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">libp2p_core</a>::<wbr><a href="index.html">muxing</a></h2><div id="sidebar-vars" data-name="StreamMuxer" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">libp2p_core</a>::<wbr><a href="index.html">muxing</a>::<wbr><a class="trait" href="#">StreamMuxer</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#81-237" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait StreamMuxer {
    type <a href="#associatedtype.Substream" class="type">Substream</a>;
    type <a href="#associatedtype.OutboundSubstream" class="type">OutboundSubstream</a>;
    type <a href="#associatedtype.Error" class="type">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.57.0/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;;
    fn <a href="#tymethod.poll_event" class="fnname">poll_event</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.StreamMuxerEvent.html" title="enum libp2p_core::muxing::StreamMuxerEvent">StreamMuxerEvent</a>&lt;Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>&gt;, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.open_outbound" class="fnname">open_outbound</a>(&amp;self) -&gt; Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.poll_outbound" class="fnname">poll_outbound</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.destroy_outbound" class="fnname">destroy_outbound</a>(&amp;self, s: Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a>);
<div class="item-spacer"></div>    fn <a href="#tymethod.read_substream" class="fnname">read_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.write_substream" class="fnname">write_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.flush_substream" class="fnname">flush_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.shutdown_substream" class="fnname">shutdown_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.destroy_substream" class="fnname">destroy_substream</a>(&amp;self, s: Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>);
<div class="item-spacer"></div>    fn <a href="#tymethod.close" class="fnname">close</a>(&amp;self, cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.flush_all" class="fnname">flush_all</a>(&amp;self, cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;;

    fn <a href="#method.is_remote_acknowledged" class="fnname">is_remote_acknowledged</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a> { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implemented on objects that can open and manage substreams.</p>
<p>The state of a muxer, as exposed by this API, is the following:</p>
<ul>
<li>A connection to the remote. The <code>poll_event</code>, <code>flush_all</code> and <code>close</code> methods operate
on this.</li>
<li>A list of substreams that are open. The <code>poll_outbound</code>, <code>read_substream</code>, <code>write_substream</code>,
<code>flush_substream</code>, <code>shutdown_substream</code> and <code>destroy_substream</code> methods allow controlling
these entries.</li>
<li>A list of outbound substreams being opened. The <code>open_outbound</code>, <code>poll_outbound</code> and
<code>destroy_outbound</code> methods allow controlling these entries.</li>
</ul>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#83" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Substream" class="type">Substream</a></h4></div></summary><div class="docblock"><p>Type of the object that represents the raw substream where data can be read and written.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.OutboundSubstream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#86" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.OutboundSubstream" class="type">OutboundSubstream</a></h4></div></summary><div class="docblock"><p>Future that will be resolved when the outgoing substream is open.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#89" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Error" class="type">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.57.0/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Error type of the muxer</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.poll_event" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#103-106" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.poll_event" class="fnname">poll_event</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.StreamMuxerEvent.html" title="enum libp2p_core::muxing::StreamMuxerEvent">StreamMuxerEvent</a>&lt;Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>&gt;, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Polls for a connection-wide event.</p>
<p>This function behaves the same as a <code>Stream</code>.</p>
<p>If <code>Pending</code> is returned, then the current task will be notified once the muxer
is ready to be polled, similar to the API of <code>Stream::poll()</code>.
Only the latest task that was used to call this method may be notified.</p>
<p>It is permissible and common to use this method to perform background
work, such as processing incoming packets and polling timers.</p>
<p>An error can be generated if the connection has been closed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.open_outbound" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#113" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.open_outbound" class="fnname">open_outbound</a>(&amp;self) -&gt; Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a></h4></div></summary><div class="docblock"><p>Opens a new outgoing substream, and produces the equivalent to a future that will be
resolved when it becomes available.</p>
<p>The API of <code>OutboundSubstream</code> is totally opaque, and the object can only be interfaced
through the methods on the <code>StreamMuxer</code> trait.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.poll_outbound" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#124-128" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.poll_outbound" class="fnname">poll_outbound</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Polls the outbound substream.</p>
<p>If <code>Pending</code> is returned, then the current task will be notified once the substream
is ready to be polled, similar to the API of <code>Future::poll()</code>.
However, for each individual outbound substream, only the latest task that was used to
call this method may be notified.</p>
<p>May panic or produce an undefined result if an earlier polling of the same substream
returned <code>Ready</code> or <code>Err</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.destroy_outbound" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#132" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.destroy_outbound" class="fnname">destroy_outbound</a>(&amp;self, s: Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.OutboundSubstream" title="type libp2p_core::muxing::StreamMuxer::OutboundSubstream">OutboundSubstream</a>)</h4></div></summary><div class="docblock"><p>Destroys an outbound substream future. Use this after the outbound substream has finished,
or if you want to interrupt it.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.read_substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#145-150" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.read_substream" class="fnname">read_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Reads data from a substream. The behaviour is the same as <code>futures::AsyncRead::poll_read</code>.</p>
<p>If <code>Pending</code> is returned, then the current task will be notified once the substream
is ready to be read. However, for each individual substream, only the latest task that
was used to call this method may be notified.</p>
<p>If <code>Async::Ready(0)</code> is returned, the substream has been closed by the remote and should
no longer be read afterwards.</p>
<p>An error can be generated if the connection has been closed, or if a protocol misbehaviour
happened.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.write_substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#163-168" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.write_substream" class="fnname">write_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Write data to a substream. The behaviour is the same as <code>futures::AsyncWrite::poll_write</code>.</p>
<p>If <code>Pending</code> is returned, then the current task will be notified once the substream
is ready to be read. For each individual substream, only the latest task that was used to
call this method may be notified.</p>
<p>Calling <code>write_substream</code> does not guarantee that data will arrive to the remote. To
ensure that, you should call <code>flush_substream</code>.</p>
<p>It is incorrect to call this method on a substream if you called <code>shutdown_substream</code> on
this substream earlier.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.flush_substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#180-184" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.flush_substream" class="fnname">flush_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Flushes a substream. The behaviour is the same as <code>futures::AsyncWrite::poll_flush</code>.</p>
<p>After this method has been called, data written earlier on the substream is guaranteed to
be received by the remote.</p>
<p>If <code>Pending</code> is returned, then the current task will be notified once the substream
is ready to be read. For each individual substream, only the latest task that was used to
call this method may be notified.</p>
<blockquote>
<p><strong>Note</strong>: This method may be implemented as a call to <code>flush_all</code>.</p>
</blockquote>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.shutdown_substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#197-201" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.shutdown_substream" class="fnname">shutdown_substream</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;s: &amp;mut Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Attempts to shut down the writing side of a substream. The behaviour is similar to
<code>AsyncWrite::poll_close</code>.</p>
<p>Contrary to <code>AsyncWrite::poll_close</code>, shutting down a substream does not imply
<code>flush_substream</code>. If you want to make sure that the remote is immediately informed about
the shutdown, use <code>flush_substream</code> or <code>flush_all</code>.</p>
<p>After this method has been called, you should no longer attempt to write to this substream.</p>
<p>An error can be generated if the connection has been closed, or if a protocol misbehaviour
happened.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.destroy_substream" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#204" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.destroy_substream" class="fnname">destroy_substream</a>(&amp;self, s: Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>)</h4></div></summary><div class="docblock"><p>Destroys a substream.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.close" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#229" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.close" class="fnname">close</a>(&amp;self, cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Closes this <code>StreamMuxer</code>.</p>
<p>After this has returned <code>Poll::Ready(Ok(()))</code>, the muxer has become useless. All
subsequent reads must return either <code>EOF</code> or an error. All subsequent writes, shutdowns,
or polls must generate an error or be ignored.</p>
<p>Calling this method implies <code>flush_all</code>.</p>
<blockquote>
<p><strong>Note</strong>: You are encouraged to call this method and wait for it to return <code>Ready</code>, so
that the remote is properly informed of the shutdown. However, apart from
properly informing the remote, there is no difference between this and
immediately dropping the muxer.</p>
</blockquote>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.flush_all" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#236" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.flush_all" class="fnname">flush_all</a>(&amp;self, cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.57.0/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.57.0/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.57.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.StreamMuxer.html#associatedtype.Error" title="type libp2p_core::muxing::StreamMuxer::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Flush this <code>StreamMuxer</code>.</p>
<p>This drains any write buffers of substreams and delivers any pending shutdown notifications
due to <code>shutdown_substream</code> or <code>close</code>. One may thus shutdown groups of substreams
followed by a final <code>flush_all</code> instead of having to do <code>flush_substream</code> for each.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.is_remote_acknowledged" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#213-215" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_remote_acknowledged" class="fnname">is_remote_acknowledged</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab deprecated"><span class="emoji">👎</span> Deprecated: <p>This method is unused and will be removed in the future</p>
</div></div><div class="docblock"><p>Returns <code>true</code> if the remote has shown any sign of activity after the muxer has been open.</p>
<p>For optimisation purposes, the connection handshake of libp2p can be very optimistic and is
allowed to assume that the handshake has succeeded when it didn’t in fact succeed. This
method can be called in order to determine whether the remote has accepted our handshake or
has potentially not received it yet.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-StreamMuxer" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing.rs.html#544-628" title="goto source code">[src]</a></div><a href="#impl-StreamMuxer" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.StreamMuxer.html" title="trait libp2p_core::muxing::StreamMuxer">StreamMuxer</a> for <a class="struct" href="struct.StreamMuxerBox.html" title="struct libp2p_core::muxing::StreamMuxerBox">StreamMuxerBox</a></h3></div></summary><div class="impl-items"><div id="associatedtype.Substream-1" class="type trait-impl has-srclink"><a href="#associatedtype.Substream-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Substream" class="type">Substream</a> = <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a></h4></div><div id="associatedtype.OutboundSubstream-1" class="type trait-impl has-srclink"><a href="#associatedtype.OutboundSubstream-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.OutboundSubstream" class="type">OutboundSubstream</a> = <a class="primitive" href="https://doc.rust-lang.org/1.57.0/std/primitive.usize.html">usize</a></h4></div><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Error" class="type">Error</a> = <a class="struct" href="https://doc.rust-lang.org/1.57.0/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a></h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-StreamMuxer-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/either.rs.html#199-362" title="goto source code">[src]</a></div><a href="#impl-StreamMuxer-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;A, B&gt; <a class="trait" href="trait.StreamMuxer.html" title="trait libp2p_core::muxing::StreamMuxer">StreamMuxer</a> for <a class="enum" href="../either/enum.EitherOutput.html" title="enum libp2p_core::either::EitherOutput">EitherOutput</a>&lt;A, B&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="trait.StreamMuxer.html" title="trait libp2p_core::muxing::StreamMuxer">StreamMuxer</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;B: <a class="trait" href="trait.StreamMuxer.html" title="trait libp2p_core::muxing::StreamMuxer">StreamMuxer</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><div id="associatedtype.Substream-2" class="type trait-impl has-srclink"><a href="#associatedtype.Substream-2" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Substream" class="type">Substream</a> = <a class="enum" href="../either/enum.EitherOutput.html" title="enum libp2p_core::either::EitherOutput">EitherOutput</a>&lt;A::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>, B::<a class="type" href="trait.StreamMuxer.html#associatedtype.Substream" title="type libp2p_core::muxing::StreamMuxer::Substream">Substream</a>&gt;</h4></div><div id="associatedtype.OutboundSubstream-2" class="type trait-impl has-srclink"><a href="#associatedtype.OutboundSubstream-2" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.OutboundSubstream" class="type">OutboundSubstream</a> = <a class="enum" href="../either/enum.EitherOutbound.html" title="enum libp2p_core::either::EitherOutbound">EitherOutbound</a>&lt;A, B&gt;</h4></div><div id="associatedtype.Error-2" class="type trait-impl has-srclink"><a href="#associatedtype.Error-2" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Error" class="type">Error</a> = <a class="struct" href="https://doc.rust-lang.org/1.57.0/std/io/error/struct.Error.html" title="struct std::io::error::Error">IoError</a></h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-StreamMuxer-2" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_core/muxing/singleton.rs.html#69-160" title="goto source code">[src]</a></div><a href="#impl-StreamMuxer-2" class="anchor"></a><h3 class="code-header in-band">impl&lt;TSocket&gt; <a class="trait" href="trait.StreamMuxer.html" title="trait libp2p_core::muxing::StreamMuxer">StreamMuxer</a> for <a class="struct" href="struct.SingletonMuxer.html" title="struct libp2p_core::muxing::SingletonMuxer">SingletonMuxer</a>&lt;TSocket&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TSocket: <a class="trait" href="../../futures_io/if_std/trait.AsyncRead.html" title="trait futures_io::if_std::AsyncRead">AsyncRead</a> + <a class="trait" href="../../futures_io/if_std/trait.AsyncWrite.html" title="trait futures_io::if_std::AsyncWrite">AsyncWrite</a> + <a class="trait" href="https://doc.rust-lang.org/1.57.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><div id="associatedtype.Substream-3" class="type trait-impl has-srclink"><a href="#associatedtype.Substream-3" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Substream" class="type">Substream</a> = Substream</h4></div><div id="associatedtype.OutboundSubstream-3" class="type trait-impl has-srclink"><a href="#associatedtype.OutboundSubstream-3" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.OutboundSubstream" class="type">OutboundSubstream</a> = OutboundSubstream</h4></div><div id="associatedtype.Error-3" class="type trait-impl has-srclink"><a href="#associatedtype.Error-3" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Error" class="type">Error</a> = <a class="struct" href="https://doc.rust-lang.org/1.57.0/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a></h4></div></div></details></div><script type="text/javascript" src="../../implementors/libp2p_core/muxing/trait.StreamMuxer.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="libp2p_core" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>